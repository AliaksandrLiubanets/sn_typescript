"use strict";(self.webpackChunksn_typescript=self.webpackChunksn_typescript||[]).push([[432],{7432:function(e,s,r){r.r(s),r.d(s,{Messages:function(){return x},Message:function(){return m}});var n=r(3430),t=r(2791),a=r(7581),c=r(3060),i=r(3784),u=r(5874),o=r(9857),l=r(7124),d=r(2227),f=r(7800),v=r(9608),h=r(184),g=function(){var e=(0,a.I0)(),s=(0,a.v9)(i.tz).status,r=(0,a.v9)(i.aF).ownAvatar;return(0,t.useEffect)((function(){return e((0,c.WE)()),function(){e((0,c.R7)())}}),[]),(0,h.jsx)("div",{children:"error"===s?(0,h.jsx)("div",{children:"Some error occured. Please refresh page"}):(0,h.jsxs)("div",{className:u.Z.page_block,children:[(0,h.jsx)(x,{}),(0,h.jsx)(v.g,{addMessage:function(s){e((0,c.bG)(s))},url:r,disabled:"ready"!==s,padding:!0})]})})},x=function(){var e=(0,a.v9)(i.tz).messages,s=(0,t.useRef)(null),r=(0,t.useState)(!0),c=(0,n.Z)(r,2),u=c[0],o=c[1];return(0,t.useEffect)((function(){var e;u&&(null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,u]),(0,h.jsxs)("div",{style:{height:"400px",overflowY:"auto"},onScroll:function(e){var s=e.currentTarget;Math.abs(s.scrollHeight-s.scrollTop-s.clientHeight)<300?!u&&o(!0):u&&o(!1)},children:[e.map((function(e){return(0,h.jsx)(m,{message:e},e.id)})),(0,h.jsx)("div",{ref:s})]})},m=t.memo((function(e){var s=e.message;return(0,h.jsxs)("div",{className:o.Z.message_block,children:[(0,h.jsxs)("div",{className:o.Z.ava_name_message,children:[(0,h.jsx)(f.k,{url:s.photo}),(0,h.jsx)(l.T,{author:s.userName})]}),(0,h.jsx)("div",{className:o.Z.angle}),(0,h.jsx)(d.Y,{text:s.message})]})}));s.default=function(){return(0,h.jsx)("div",{children:(0,h.jsx)(g,{})})}}}]);
//# sourceMappingURL=432.d9f5dce2.chunk.js.map